title: Ionic prepare
summary: Prepares your Ionic project
description: |-
  This Step prepares your Ionic project by calling `ionic cordova prepare --no build` and copying files into platform(s), preparing the project to be built.

  ### Configuring the Step

  To configure the Step:

  1. **Platform**: Make sure to set the **Platform** input to a value (`ios`, `android`, or both) that matches your project's settings.
  1. **Ionic version**: This input can be used to install a specific version of Ionic. By default, the pre-installed version will be used, which can differ from stack to stack. Check the current stack images [here](https://github.com/bitrise-io/bitrise.io/tree/master/system_reports).
  1. **Working directory**: If you have your `config.xml` file at the root of your repository, you don't have to set anything for this input. If it's located elsewhere, make sure this input points to that directory.
  1. **Ionic username** and **Ionic password**: If you want to use the Ionic CLI within the Step, create Secrets for your Ionic username and password and them respectively to the **Ionic username** and **Ionic password** inputs. 
  1. **Cache enabled**: You can use this input to enable caching for `node_modules` provided you have the **Cache Pull** and **Cache Push** Steps set up.

  ### Useful links

  * [Ionic/Cordova code signing with automatic code signing asset management](https://devcenter.bitrise.io/en/code-signing/ios-code-signing/ios-code-signing-for-ionic-and-cordova-projects.html#ionic-cordova-code-signing-with-automatic-code-signing-asset-management-72205)

  ### Related Steps

  * [Ionic Archive](https://www.bitrise.io/integrations/steps/ionic-archive)
  * [Cordova Prepare](https://www.bitrise.io/integrations/steps/cordova-prepare)
  * [Manage iOS Code Signing]https://www.bitrise.io/integrations/steps/manage-ios-code-signing

website: https://github.com/bitrise-steplib/steps-ionic-prepare
source_code_url: https://github.com/bitrise-steplib/steps-ionic-prepare
support_url: https://github.com/bitrise-steplib/steps-ionic-prepare/issues

host_os_tags:
  - osx-10.10
  - ubuntu-16.04

project_type_tags:
- ionic
type_tags:
- utility

is_requires_admin_user: true
is_always_run: false
is_skippable: false
run_if: ""

toolkit:
  go:
    package_name: github.com/bitrise-steplib/steps-ionic-prepare

inputs:
  - platform: "ios,android"
    opts:
      title: Platform
      summary: Platform to use in ionic-cli commands
      description: |-
        Specify this input to apply ionic-cli commands to desired platforms only.

        `ionic [cordova] platform rm <platform>`
      value_options:
      - "ios,android"
      - "ios"
      - "android"
      is_required: true
  - ionic_version: 
    opts:
      title: Ionic version
      summary: |-
        The version of ionic you want to use.

        If value is set to `latest`, the step will update to the latest ionic version.
        Leave this input empty to use the preinstalled ionic version.
      description: |-
        The version of ionic you want to use.

        If value is set to `latest`, the step will update to the latest ionic version.
        Leave this input empty to use the preinstalled ionic version.
  - cordova_version: 
    opts:
      title: Cordova version
      summary: |-
        The version of cordova you want to use.

        If value is set to `latest`, the step will update to the latest cordova version.
        Leave this input empty to use the preinstalled cordova version.
      description: |-
        The version of cordova you want to use.

        If value is set to `latest`, the step will update to the latest cordova version.
        Leave this input empty to use the preinstalled cordova version.
  - workdir: $BITRISE_SOURCE_DIR
    opts:
      title: Working directory
      summary: Root directory of the Ionic project.
      description: Root directory of your Ionic project, where your Ionic config.xml exists.
      is_required: true
  - ionic_username:
    opts:
      title: "Ionic username"
      summary: Username to login with in ionic-cli.
      description: |-
        Use `Ionic username` and `Ionic password` to login with ionic-cli.
      is_sensitive: true
  - ionic_password:
    opts:
      title: "Ionic password"
      summary: Password to login with in ionic-cli.
      description: |-
        Use `Ionic username` and `Ionic password` to login with ionic-cli.
      is_sensitive: true
  - cache_local_deps: "false"
    opts:
      title: "Cache enabled"
      summary: Enable caching node_modules.
      description: |-
        Selects if the contents of node_modules directory is cached.
        - `true`: Mark local dependencies to be cached.
        - `false`: Do not use cache.
      is_required: true
      value_options:
      - "true"
      - "false"
